# Arm4 功能测试用例详细文档

## 📋 测试用例索引

### 前端功能测试 (ARM4-F-001 ~ ARM4-F-015)
- ARM4-F-001: Arm4 在机器人选择界面显示
- ARM4-F-002: Arm4 显示为 "Training Arm"
- ARM4-F-003: Arm4 可以启动操作流程
- ARM4-F-004: Arm4 导航栏显示为 "Training Arm"
- ARM4-F-005: Arm4 不显示 session complete modal
- ARM4-F-006: Arm4 首次使用显示首次使用模态框
- ARM4-F-007: Arm4 队列加入按钮功能
- ARM4-F-008: Arm4 队列离开功能
- ARM4-F-009: Arm4 队列位置更新
- ARM4-F-010: Arm4 控制界面功能
- ARM4-F-011: Arm4 响应式设计测试
- ARM4-F-012: Arm4 错误处理测试
- ARM4-F-013: Arm4 与 Arm1 卡片对比
- ARM4-F-014: Arm4 会话结束流程
- ARM4-F-015: Arm4 积分奖励验证

### 后端逻辑测试 (ARM4-B-001 ~ ARM4-B-010)
- ARM4-B-001: Arm4 Amplifier Member 每天最多 3 次限制
- ARM4-B-002: Arm1 和 Arm4 限制独立计算
- ARM4-B-003: UTC 时区限制正确
- ARM4-B-004: 错误消息包含 robot_id
- ARM4-B-005: Arm4 图像识别使用 PROMPT2
- ARM4-B-006: Arm4 图像识别功能正常
- ARM4-B-007: Arm4 队列加入 API 正常
- ARM4-B-008: Arm4 队列限制 API 验证
- ARM4-B-009: Arm4 队列查询 API
- ARM4-B-010: Arm4 不同会员等级限制

### 集成测试 (ARM4-I-001 ~ ARM4-I-005)
- ARM4-I-001: Arm4 完整流程测试
- ARM4-I-002: Arm4 与 Arm1 行为一致性
- ARM4-I-003: Arm4 队列并发测试
- ARM4-I-004: Arm4 数据一致性测试
- ARM4-I-005: Arm4 跨页面导航测试

### 回归测试 (ARM4-R-001 ~ ARM4-R-005)
- ARM4-R-001: Arm1 功能不受影响
- ARM4-R-002: Arm2 功能不受影响
- ARM4-R-003: Arm3 功能不受影响
- ARM4-R-004: 机器人选择界面显示正确
- ARM4-R-005: 队列系统整体功能

---

## 📝 详细测试用例

### ARM4-F-001: Arm4 在机器人选择界面显示

**测试用例 ID**: ARM4-F-001  
**优先级**: P0  
**测试类型**: 功能测试  
**前置条件**: 
- 用户已登录系统
- 浏览器支持现代 Web 标准

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 打开浏览器，访问应用首页 | 页面正常加载 | | ⬜ |
| 2 | 登录用户账号 | 登录成功，跳转到主页面 | | ⬜ |
| 3 | 导航到 Tele-Op 页面（点击 "Live Control" 或直接访问 `/live-control`） | 显示机器人选择界面 | | ⬜ |
| 4 | 检查机器人卡片列表 | 显示 4 个机器人卡片 | | ⬜ |
| 5 | 定位 Arm4 卡片 | Arm4 卡片可见，位置在 arm1 之后、arm3 之前 | | ⬜ |
| 6 | 检查 Arm4 卡片状态指示器 | 显示 "available" 状态（绿色圆点或可用标识） | | ⬜ |
| 7 | 检查 Arm4 卡片是否可点击 | 鼠标悬停时显示手型光标，卡片有 hover 效果 | | ⬜ |

**验证点**:
- ✅ Arm4 卡片在机器人选择界面可见
- ✅ Arm4 卡片位置正确（在 arm1 之后）
- ✅ Arm4 卡片状态为 "available"
- ✅ Arm4 卡片可交互（可点击）

**测试数据**: 无特殊要求

**截图要求**: 
- 机器人选择界面全屏截图
- Arm4 卡片特写截图

---

### ARM4-F-002: Arm4 显示为 "Training Arm"

**测试用例 ID**: ARM4-F-002  
**优先级**: P0  
**测试类型**: 功能测试  
**前置条件**: 用户在机器人选择界面

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 在机器人选择界面定位 Arm4 卡片 | 找到 Arm4 卡片 | | ⬜ |
| 2 | 检查 Arm4 卡片名称 | 显示 "Training Arm" | | ⬜ |
| 3 | 检查 Arm4 卡片描述 | 显示 "Join the queue to practice your skills and earn points with each session." | | ⬜ |
| 4 | 定位 Arm1 卡片 | 找到 Arm1 卡片 | | ⬜ |
| 5 | 检查 Arm1 卡片名称 | 显示 "Training Arm" | | ⬜ |
| 6 | 检查 Arm1 卡片描述 | 显示 "Join the queue to practice your skills and earn points with each session." | | ⬜ |
| 7 | 对比 Arm1 和 Arm4 | Arm1 和 Arm4 显示相同的名称和描述 | | ⬜ |

**验证点**:
- ✅ Arm4 名称显示为 "Training Arm"
- ✅ Arm4 描述与 Arm1 完全一致
- ✅ Arm4 和 Arm1 在 UI 上显示一致

**测试数据**: 无特殊要求

**截图要求**: 
- Arm4 和 Arm1 卡片对比截图

---

### ARM4-F-003: Arm4 可以启动操作流程

**测试用例 ID**: ARM4-F-003  
**优先级**: P0  
**测试类型**: 功能测试  
**前置条件**: 用户在机器人选择界面

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 在机器人选择界面点击 Arm4 卡片 | 页面跳转到 Arm4 控制页面 | | ⬜ |
| 2 | 检查 URL | URL 包含 arm4 标识（如 `/live-control/arm4` 或 `?robotId=arm4`） | | ⬜ |
| 3 | 检查页面加载 | 页面正常加载，无错误提示 | | ⬜ |
| 4 | 检查队列面板 | 显示 Arm4 队列面板 | | ⬜ |
| 5 | 检查控制界面元素 | 显示控制界面框架（即使未激活） | | ⬜ |
| 6 | 检查浏览器控制台 | 无 JavaScript 错误 | | ⬜ |

**验证点**:
- ✅ Arm4 卡片可点击
- ✅ 成功导航到 Arm4 控制页面
- ✅ URL 正确包含 arm4 标识
- ✅ 页面正常加载，无错误

**测试数据**: 无特殊要求

**截图要求**: 
- Arm4 控制页面截图
- 浏览器控制台截图（无错误）

---

### ARM4-F-004: Arm4 导航栏显示为 "Training Arm"

**测试用例 ID**: ARM4-F-004  
**优先级**: P0  
**测试类型**: 功能测试  
**前置条件**: 用户在 Arm4 控制页面

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 进入 Arm4 控制页面 | 显示 Arm4 控制界面 | | ⬜ |
| 2 | 检查页面顶部导航栏 | 导航栏显示 "Live Control | Robots Center → Training Arm" | | ⬜ |
| 3 | 检查导航栏文本格式 | "Training Arm" 文本正确显示，无乱码 | | ⬜ |
| 4 | 切换到 Arm1 控制页面 | 进入 Arm1 控制页面 | | ⬜ |
| 5 | 检查 Arm1 导航栏 | Arm1 导航栏也显示 "Training Arm" | | ⬜ |
| 6 | 切换到 Arm2 控制页面 | 进入 Arm2 控制页面 | | ⬜ |
| 7 | 检查 Arm2 导航栏 | Arm2 导航栏显示 "Partner Arm" | | ⬜ |
| 8 | 切换到 Arm3 控制页面 | 进入 Arm3 控制页面 | | ⬜ |
| 9 | 检查 Arm3 导航栏 | Arm3 导航栏显示 "Buddy Arm" | | ⬜ |

**验证点**:
- ✅ Arm4 导航栏显示 "Training Arm"
- ✅ Arm4 与 Arm1 导航栏显示一致
- ✅ 其他机器人导航栏显示正确（Arm2: "Partner Arm", Arm3: "Buddy Arm"）

**测试数据**: 无特殊要求

**截图要求**: 
- Arm4 导航栏截图
- Arm1, Arm2, Arm3 导航栏对比截图

---

### ARM4-F-005: Arm4 不显示 session complete modal

**测试用例 ID**: ARM4-F-005  
**优先级**: P0  
**测试类型**: 功能测试  
**前置条件**: 
- 用户已使用过至少一次机器人（不是首次使用）
- 用户已加入 Arm4 队列并完成控制会话

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 登录非首次使用的账号 | 登录成功 | | ⬜ |
| 2 | 进入 Arm4 控制页面 | 显示 Arm4 控制界面 | | ⬜ |
| 3 | 点击 "Enter Live Control" | 成功加入队列 | | ⬜ |
| 4 | 等待队列位置到达 #1 | 显示 "Session Active"，控制会话开始 | | ⬜ |
| 5 | 完成 5 分钟控制会话 | 会话结束，控制权释放 | | ⬜ |
| 6 | 检查是否显示模态框 | **不显示** session complete modal | | ⬜ |
| 7 | 切换到 Arm2 控制页面 | 进入 Arm2 控制页面 | | ⬜ |
| 8 | 加入 Arm2 队列并完成会话 | 完成 Arm2 控制会话 | | ⬜ |
| 9 | 检查是否显示模态框 | **显示** session complete modal | | ⬜ |
| 10 | 切换到 Arm3 控制页面 | 进入 Arm3 控制页面 | | ⬜ |
| 11 | 加入 Arm3 队列并完成会话 | 完成 Arm3 控制会话 | | ⬜ |
| 12 | 检查是否显示模态框 | **显示** session complete modal | | ⬜ |

**验证点**:
- ✅ Arm4 不显示 session complete modal（与 Arm1 相同）
- ✅ Arm2 和 Arm3 仍然显示 session complete modal
- ✅ 行为符合预期

**测试数据**: 
- 非首次使用的用户账号
- 需要完成完整的控制会话（5 分钟）

**截图要求**: 
- Arm4 会话结束后的页面截图（无模态框）
- Arm2/Arm3 会话结束后的页面截图（有模态框）

---

### ARM4-F-006: Arm4 首次使用显示首次使用模态框

**测试用例 ID**: ARM4-F-006  
**优先级**: P1  
**测试类型**: 功能测试  
**前置条件**: 用户首次使用 Arm4（从未控制过任何机器人）

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 使用新账号登录 | 登录成功 | | ⬜ |
| 2 | 进入 Arm4 控制页面 | 显示 Arm4 控制界面 | | ⬜ |
| 3 | 点击 "Enter Live Control" | 成功加入队列 | | ⬜ |
| 4 | 等待队列位置到达 #1 | 显示 "Session Active"，控制会话开始 | | ⬜ |
| 5 | 完成首次控制会话 | 会话结束，控制权释放 | | ⬜ |
| 6 | 检查模态框 | **显示**首次使用模态框（First Time Modal） | | ⬜ |
| 7 | 检查模态框内容 | 模态框包含欢迎信息或使用说明 | | ⬜ |
| 8 | 关闭模态框 | 模态框关闭，返回控制页面 | | ⬜ |
| 9 | 再次完成 Arm4 会话 | 完成第二次控制会话 | | ⬜ |
| 10 | 检查模态框 | **不显示**首次使用模态框 | | ⬜ |

**验证点**:
- ✅ 首次使用显示 First Time Modal
- ✅ 模态框内容正确
- ✅ 后续使用不显示 First Time Modal

**测试数据**: 
- 新用户账号（从未使用过任何机器人）

**截图要求**: 
- 首次使用模态框截图
- 第二次使用无模态框的截图

---

### ARM4-F-007: Arm4 队列加入按钮功能

**测试用例 ID**: ARM4-F-007  
**优先级**: P0  
**测试类型**: 功能测试  
**前置条件**: 用户在 Arm4 控制页面

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 进入 Arm4 控制页面 | 显示队列面板 | | ⬜ |
| 2 | 检查按钮初始状态 | 显示 "Enter Live Control" 按钮，按钮可点击 | | ⬜ |
| 3 | 点击 "Enter Live Control" | 按钮文本立即变为 "Starting..." | | ⬜ |
| 4 | 检查按钮状态 | 按钮在请求期间被禁用（不可点击） | | ⬜ |
| 5 | 等待加入队列 | 成功加入队列 | | ⬜ |
| 6 | 检查按钮文本 | 按钮文本变为 "Leave Queue" | | ⬜ |
| 7 | 检查按钮状态 | 按钮可点击 | | ⬜ |
| 8 | 检查队列位置显示 | 显示队列位置（如 "Position: 3"） | | ⬜ |
| 9 | 检查等待时间 | 显示预计等待时间（如果适用） | | ⬜ |

**验证点**:
- ✅ 按钮状态转换正确
- ✅ 按钮文本更新及时
- ✅ 队列加入成功
- ✅ UI 反馈清晰

**测试数据**: 无特殊要求

**截图要求**: 
- 按钮不同状态的截图（"Enter Live Control" → "Starting..." → "Leave Queue"）

---

### ARM4-F-008: Arm4 队列离开功能

**测试用例 ID**: ARM4-F-008  
**优先级**: P0  
**测试类型**: 功能测试  
**前置条件**: 用户在 Arm4 队列中

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 加入 Arm4 队列 | 成功加入队列，显示队列位置 | | ⬜ |
| 2 | 检查按钮文本 | 显示 "Leave Queue" 按钮 | | ⬜ |
| 3 | 检查按钮状态 | 按钮可点击 | | ⬜ |
| 4 | 点击 "Leave Queue" | 按钮文本立即变为 "Leaving..." 或保持 "Leave Queue" | | ⬜ |
| 5 | 等待离开队列 | 成功离开队列 | | ⬜ |
| 6 | 检查按钮文本 | 按钮恢复为 "Enter Live Control" | | ⬜ |
| 7 | 检查队列位置 | 队列位置信息消失 | | ⬜ |
| 8 | 检查等待时间 | 等待时间信息消失 | | ⬜ |
| 9 | 检查队列状态 | 队列状态重置为初始状态 | | ⬜ |

**验证点**:
- ✅ 离开队列功能正常
- ✅ UI 状态正确更新
- ✅ 队列信息清除

**测试数据**: 无特殊要求

**截图要求**: 
- 离开队列前后的对比截图

---

### ARM4-F-009: Arm4 队列位置更新

**测试用例 ID**: ARM4-F-009  
**优先级**: P1  
**测试类型**: 功能测试  
**前置条件**: 用户在 Arm4 队列中

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 加入 Arm4 队列 | 成功加入队列，显示初始位置（如 "Position: 5"） | | ⬜ |
| 2 | 记录初始位置 | 记录当前队列位置 | | ⬜ |
| 3 | 等待队列位置变化 | 队列位置自动更新（如从 #5 变为 #4） | | ⬜ |
| 4 | 检查位置显示 | 位置数字正确更新 | | ⬜ |
| 5 | 检查更新频率 | 位置更新及时（无延迟） | | ⬜ |
| 6 | 继续等待位置更新 | 位置继续更新（如从 #4 变为 #3） | | ⬜ |
| 7 | 等待到达 #2 | 位置到达 #2 | | ⬜ |
| 8 | 等待到达 #1 | 位置到达 #1 | | ⬜ |
| 9 | 检查状态变化 | 显示 "Session Active" 或类似激活状态 | | ⬜ |
| 10 | 检查位置显示 | 位置信息可能消失或显示 "Active" | | ⬜ |

**验证点**:
- ✅ 队列位置实时更新
- ✅ 位置显示准确
- ✅ 更新及时无延迟
- ✅ 到达 #1 时状态正确切换

**测试数据**: 
- 需要队列中有其他用户，以便位置能够变化

**截图要求**: 
- 不同队列位置的截图（#5, #4, #3, #2, #1）

---

### ARM4-F-010: Arm4 控制界面功能

**测试用例 ID**: ARM4-F-010  
**优先级**: P1  
**测试类型**: 功能测试  
**前置条件**: 用户已激活 Arm4 控制（队列位置 #1）

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 等待队列位置到达 #1 | 显示 "Session Active" | | ⬜ |
| 2 | 检查视频流区域 | 显示两个视频流区域（stream1 和 stream2） | | ⬜ |
| 3 | 检查视频流加载 | 视频流正常加载和播放 | | ⬜ |
| 4 | 检查控制面板 | 显示控制按钮和滑块 | | ⬜ |
| 5 | 检查控制按钮 | 控制按钮可点击（如前进、后退、左转、右转等） | | ⬜ |
| 6 | 检查控制滑块 | 滑块可拖动（如速度控制、角度控制等） | | ⬜ |
| 7 | 测试控制功能 | 点击控制按钮，机器人响应移动 | | ⬜ |
| 8 | 检查会话倒计时 | 显示 5 分钟倒计时 | | ⬜ |
| 9 | 检查倒计时准确性 | 倒计时准确递减 | | ⬜ |
| 10 | 等待会话结束 | 5 分钟后会话自动结束 | | ⬜ |
| 11 | 检查会话结束处理 | 控制权释放，返回队列状态 | | ⬜ |

**验证点**:
- ✅ 控制界面正常加载
- ✅ 视频流正常显示
- ✅ 控制功能正常
- ✅ 倒计时准确
- ✅ 会话结束处理正确

**测试数据**: 无特殊要求

**截图要求**: 
- 控制界面全屏截图
- 视频流截图
- 控制面板截图

---

### ARM4-F-011: Arm4 响应式设计测试

**测试用例 ID**: ARM4-F-011  
**优先级**: P2  
**测试类型**: 功能测试  
**前置条件**: 用户在 Arm4 控制页面

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 在桌面浏览器打开 Arm4 控制页面 | 页面正常显示 | | ⬜ |
| 2 | 检查桌面布局 | 布局合理，所有元素可见 | | ⬜ |
| 3 | 调整浏览器窗口宽度到 1920px | 布局正常，无元素重叠 | | ⬜ |
| 4 | 调整浏览器窗口宽度到 1366px | 布局正常，无元素重叠 | | ⬜ |
| 5 | 调整浏览器窗口宽度到 1024px | 布局正常，可能需要调整 | | ⬜ |
| 6 | 调整浏览器窗口宽度到 768px | 布局适应移动端，元素可能重新排列 | | ⬜ |
| 7 | 调整浏览器窗口宽度到 375px | 移动端布局正常，所有功能可用 | | ⬜ |
| 8 | 在移动设备上打开 Arm4 控制页面 | 移动端布局正常 | | ⬜ |
| 9 | 测试移动端交互 | 触摸操作正常，按钮可点击 | | ⬜ |
| 10 | 测试移动端视频流 | 视频流正常显示和播放 | | ⬜ |

**验证点**:
- ✅ 桌面端布局正常
- ✅ 响应式布局正确
- ✅ 移动端布局正常
- ✅ 所有功能在不同尺寸下可用

**测试数据**: 无特殊要求

**截图要求**: 
- 不同屏幕尺寸的截图（1920px, 1366px, 1024px, 768px, 375px）
- 移动设备实际截图

---

### ARM4-F-012: Arm4 错误处理测试

**测试用例 ID**: ARM4-F-012  
**优先级**: P1  
**测试类型**: 功能测试  
**前置条件**: 用户在 Arm4 控制页面

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 进入 Arm4 控制页面 | 显示 Arm4 控制界面 | | ⬜ |
| 2 | 断开网络连接 | 网络断开 | | ⬜ |
| 3 | 点击 "Enter Live Control" | 显示网络错误提示或超时提示 | | ⬜ |
| 4 | 恢复网络连接 | 网络恢复 | | ⬜ |
| 5 | 再次点击 "Enter Live Control" | 成功加入队列 | | ⬜ |
| 6 | 在队列中时断开网络 | 网络断开 | | ⬜ |
| 7 | 检查队列状态 | 显示网络错误或连接丢失提示 | | ⬜ |
| 8 | 恢复网络连接 | 网络恢复 | | ⬜ |
| 9 | 检查队列状态 | 队列状态自动恢复或需要重新加入 | | ⬜ |
| 10 | 模拟服务器错误（500） | 使用开发者工具模拟 500 错误 | | ⬜ |
| 11 | 点击 "Enter Live Control" | 显示服务器错误提示 | | ⬜ |
| 12 | 模拟限制错误（403） | 使用开发者工具模拟 403 错误 | | ⬜ |
| 13 | 点击 "Enter Live Control" | 显示限制错误提示（如 "已达到每日限制"） | | ⬜ |

**验证点**:
- ✅ 网络错误处理正确
- ✅ 错误提示清晰
- ✅ 错误恢复机制正常
- ✅ 不同错误类型有相应提示

**测试数据**: 无特殊要求

**截图要求**: 
- 各种错误提示的截图
- 网络错误恢复的截图

---

### ARM4-F-013: Arm4 与 Arm1 卡片对比

**测试用例 ID**: ARM4-F-013  
**优先级**: P1  
**测试类型**: 功能测试  
**前置条件**: 用户在机器人选择界面

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 导航到机器人选择界面 | 显示机器人选择界面 | | ⬜ |
| 2 | 定位 Arm1 卡片 | 找到 Arm1 卡片 | | ⬜ |
| 3 | 记录 Arm1 卡片信息 | 记录名称、描述、状态、样式 | | ⬜ |
| 4 | 定位 Arm4 卡片 | 找到 Arm4 卡片 | | ⬜ |
| 5 | 记录 Arm4 卡片信息 | 记录名称、描述、状态、样式 | | ⬜ |
| 6 | 对比卡片名称 | Arm1 和 Arm4 都显示 "Training Arm" | | ⬜ |
| 7 | 对比卡片描述 | Arm1 和 Arm4 描述完全相同 | | ⬜ |
| 8 | 对比卡片状态 | Arm1 和 Arm4 状态相同（都是 "available"） | | ⬜ |
| 9 | 对比卡片样式 | Arm1 和 Arm4 样式一致（颜色、字体、布局） | | ⬜ |
| 10 | 对比卡片位置 | Arm4 在 Arm1 之后 | | ⬜ |
| 11 | 测试点击行为 | Arm1 和 Arm4 点击行为一致 | | ⬜ |

**验证点**:
- ✅ Arm1 和 Arm4 卡片显示一致
- ✅ 名称和描述相同
- ✅ 样式一致
- ✅ 行为一致

**测试数据**: 无特殊要求

**截图要求**: 
- Arm1 和 Arm4 卡片并排对比截图

---

### ARM4-F-014: Arm4 会话结束流程

**测试用例 ID**: ARM4-F-014  
**优先级**: P1  
**测试类型**: 功能测试  
**前置条件**: 用户已激活 Arm4 控制

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 激活 Arm4 控制 | 显示 "Session Active"，控制会话开始 | | ⬜ |
| 2 | 检查倒计时 | 显示 5 分钟倒计时 | | ⬜ |
| 3 | 等待倒计时到 1 分钟 | 倒计时显示剩余 1 分钟 | | ⬜ |
| 4 | 检查警告提示 | 可能显示时间即将结束的提示（如果适用） | | ⬜ |
| 5 | 等待倒计时到 0 | 倒计时归零 | | ⬜ |
| 6 | 检查会话结束 | 会话自动结束，控制权释放 | | ⬜ |
| 7 | 检查模态框 | **不显示** session complete modal | | ⬜ |
| 8 | 检查状态变化 | 状态从 "Session Active" 变为队列状态或初始状态 | | ⬜ |
| 9 | 检查视频流 | 视频流停止或断开 | | ⬜ |
| 10 | 检查控制面板 | 控制面板禁用或隐藏 | | ⬜ |
| 11 | 检查积分奖励 | 显示积分奖励通知（如果适用） | | ⬜ |
| 12 | 检查浏览器控制台 | 无 JavaScript 错误 | | ⬜ |

**验证点**:
- ✅ 会话倒计时准确
- ✅ 会话自动结束
- ✅ 不显示 session complete modal
- ✅ 状态正确切换
- ✅ 无错误

**测试数据**: 无特殊要求

**截图要求**: 
- 倒计时不同阶段的截图
- 会话结束后的页面截图

---

### ARM4-F-015: Arm4 积分奖励验证

**测试用例 ID**: ARM4-F-015  
**优先级**: P2  
**测试类型**: 功能测试  
**前置条件**: 
- 用户已激活 Arm4 控制
- 系统配置了积分奖励功能

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 记录当前积分 | 记录用户当前 Prisma Points | | ⬜ |
| 2 | 激活 Arm4 控制 | 显示 "Session Active" | | ⬜ |
| 3 | 完成 5 分钟控制会话 | 会话结束 | | ⬜ |
| 4 | 检查积分奖励通知 | 显示积分奖励通知（如 "+30 Prisma Points"） | | ⬜ |
| 5 | 检查积分更新 | 用户积分增加（如从 100 变为 130） | | ⬜ |
| 6 | 检查积分历史 | 积分历史记录中显示 Arm4 会话奖励 | | ⬜ |
| 7 | 检查奖励金额 | 奖励金额符合预期（如 30 点） | | ⬜ |
| 8 | 对比 Arm1 奖励 | Arm1 和 Arm4 奖励金额相同 | | ⬜ |
| 9 | 检查奖励描述 | 奖励描述正确（如 "Training Arm Session"） | | ⬜ |

**验证点**:
- ✅ 积分奖励正确发放
- ✅ 积分更新及时
- ✅ 奖励金额正确
- ✅ Arm4 与 Arm1 奖励一致

**测试数据**: 
- 需要系统配置积分奖励功能
- 需要记录初始积分

**截图要求**: 
- 积分奖励通知截图
- 积分更新前后的对比截图
- 积分历史记录截图

---

### ARM4-B-001: Arm4 Amplifier Member 每天最多 3 次限制

**测试用例 ID**: ARM4-B-001  
**优先级**: P0  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- Amplifier Member 账号
- 当前 UTC 日期未使用过 Arm4（或已重置）

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 登录 Amplifier Member 账号 | 登录成功 | | ⬜ |
| 2 | 进入 Arm4 控制页面 | 显示 Arm4 控制界面 | | ⬜ |
| 3 | 点击 "Enter Live Control"（第 1 次） | 成功加入队列 | | ⬜ |
| 4 | 点击 "Leave Queue" | 成功离开队列 | | ⬜ |
| 5 | 点击 "Enter Live Control"（第 2 次） | 成功加入队列 | | ⬜ |
| 6 | 点击 "Leave Queue" | 成功离开队列 | | ⬜ |
| 7 | 点击 "Enter Live Control"（第 3 次） | 成功加入队列 | | ⬜ |
| 8 | 点击 "Leave Queue" | 成功离开队列 | | ⬜ |
| 9 | 点击 "Enter Live Control"（第 4 次） | **失败**，显示错误通知 | | ⬜ |
| 10 | 检查错误消息 | 错误消息包含: "Amplifier members can join arm4 queue up to 3 times per day (UTC)" | | ⬜ |
| 11 | 检查通知类型 | 显示错误通知（红色或警告样式） | | ⬜ |

**验证点**:
- ✅ 前 3 次成功加入队列
- ✅ 第 4 次被拒绝
- ✅ 错误消息正确且包含 "arm4"
- ✅ 错误消息包含 "3 times per day (UTC)"

**测试数据**: 
- Amplifier Member 账号
- 需要确保当前 UTC 日期未使用过 Arm4（可能需要重置数据库或等待新的一天）

**截图要求**: 
- 第 4 次尝试加入时的错误通知截图
- 浏览器控制台网络请求截图（显示 403 状态码）

**API 验证**:
```bash
# 第 4 次尝试应返回 403
curl -X POST https://control.prismax.ai/queue/join \
  -H "Authorization: Bearer {JWT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{"robot_id": "arm4", "user_id": "{USER_ID}"}'

# 预期响应: 403 Forbidden
# {"error": "Amplifier members can join arm4 queue up to 3 times per day (UTC)"}
```

---

### ARM4-B-002: Arm1 和 Arm4 限制独立计算

**测试用例 ID**: ARM4-B-002  
**优先级**: P0  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- Amplifier Member 账号
- 当前 UTC 日期未使用过 Arm1 和 Arm4

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 登录 Amplifier Member 账号 | 登录成功 | | ⬜ |
| 2 | 进入 Arm1 控制页面 | 显示 Arm1 控制界面 | | ⬜ |
| 3 | 加入 Arm1 队列（第 1 次） | 成功加入 | | ⬜ |
| 4 | 离开 Arm1 队列 | 成功离开 | | ⬜ |
| 5 | 加入 Arm1 队列（第 2 次） | 成功加入 | | ⬜ |
| 6 | 离开 Arm1 队列 | 成功离开 | | ⬜ |
| 7 | 加入 Arm1 队列（第 3 次） | 成功加入 | | ⬜ |
| 8 | 离开 Arm1 队列 | 成功离开 | | ⬜ |
| 9 | 尝试加入 Arm1 队列（第 4 次） | **失败**，显示错误消息 | | ⬜ |
| 10 | 进入 Arm4 控制页面 | 显示 Arm4 控制界面 | | ⬜ |
| 11 | 加入 Arm4 队列（第 1 次） | **成功**加入（Arm4 限制独立） | | ⬜ |
| 12 | 离开 Arm4 队列 | 成功离开 | | ⬜ |
| 13 | 加入 Arm4 队列（第 2 次） | 成功加入 | | ⬜ |
| 14 | 离开 Arm4 队列 | 成功离开 | | ⬜ |
| 15 | 加入 Arm4 队列（第 3 次） | 成功加入 | | ⬜ |
| 16 | 离开 Arm4 队列 | 成功离开 | | ⬜ |
| 17 | 尝试加入 Arm4 队列（第 4 次） | **失败**，显示错误消息 | | ⬜ |

**验证点**:
- ✅ Arm1 使用 3 次后无法再使用
- ✅ Arm4 限制独立计算，不受 Arm1 使用次数影响
- ✅ Arm4 可以独立使用 3 次
- ✅ Arm4 使用 3 次后也无法再使用

**测试数据**: 
- Amplifier Member 账号
- 需要确保当前 UTC 日期未使用过 Arm1 和 Arm4

**截图要求**: 
- Arm1 第 4 次尝试的错误截图
- Arm4 第 1 次成功加入的截图
- Arm4 第 4 次尝试的错误截图

---

### ARM4-B-003: UTC 时区限制正确

**测试用例 ID**: ARM4-B-003  
**优先级**: P1  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- Amplifier Member 账号
- 已使用 Arm4 3 次（当前 UTC 日期）

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 确认当前 UTC 日期 | 记录当前 UTC 日期和时间 | | ⬜ |
| 2 | 登录 Amplifier Member 账号 | 登录成功 | | ⬜ |
| 3 | 验证已使用 Arm4 3 次 | 尝试加入 Arm4 队列，确认显示限制错误 | | ⬜ |
| 4 | 检查错误消息 | 错误消息包含 "per day (UTC)" | | ⬜ |
| 5 | 查询数据库 | 检查 robot_queue 表中 Arm4 记录，确认日期为当前 UTC 日期 | | ⬜ |
| 6 | 等待 UTC 日期变更（或使用测试工具修改数据库时间） | UTC 日期变为下一天 | | ⬜ |
| 7 | 尝试加入 Arm4 队列 | **成功**加入（新的一天，限制重置） | | ⬜ |
| 8 | 验证限制重置 | 可以再次使用 3 次 | | ⬜ |
| 9 | 检查数据库记录 | 新记录日期为新 UTC 日期 | | ⬜ |

**验证点**:
- ✅ 限制基于 UTC 时区
- ✅ 新的一天限制重置
- ✅ 数据库记录日期正确

**测试数据**: 
- Amplifier Member 账号
- 已使用 Arm4 3 次
- 需要等待 UTC 日期变更或使用测试工具

**截图要求**: 
- 限制错误截图
- 新一天成功加入的截图
- 数据库查询结果截图

**API 验证**:
```bash
# 检查数据库记录
# SELECT * FROM robot_queue 
# WHERE user_id = {USER_ID} AND robot_id = 'arm4' 
# AND DATE(created_at AT TIME ZONE 'UTC') = DATE(NOW() AT TIME ZONE 'UTC')
```

---

### ARM4-B-004: 错误消息包含 robot_id

**测试用例 ID**: ARM4-B-004  
**优先级**: P1  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- Amplifier Member 账号
- 已使用 Arm4 3 次（当前 UTC 日期）
- 已使用 Arm1 3 次（当前 UTC 日期）

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 登录 Amplifier Member 账号 | 登录成功 | | ⬜ |
| 2 | 尝试加入 Arm4 队列（第 4 次） | 失败，显示错误消息 | | ⬜ |
| 3 | 检查 Arm4 错误消息 | 错误消息包含 "arm4" | | ⬜ |
| 4 | 检查错误消息格式 | 错误消息格式: "Amplifier members can join arm4 queue up to 3 times per day (UTC)" | | ⬜ |
| 5 | 尝试加入 Arm1 队列（第 4 次） | 失败，显示错误消息 | | ⬜ |
| 6 | 检查 Arm1 错误消息 | 错误消息包含 "arm1" | | ⬜ |
| 7 | 检查错误消息格式 | 错误消息格式: "Amplifier members can join arm1 queue up to 3 times per day (UTC)" | | ⬜ |
| 8 | 对比错误消息 | Arm1 和 Arm4 错误消息格式一致，但 robot_id 不同 | | ⬜ |

**验证点**:
- ✅ 错误消息动态显示 robot_id
- ✅ Arm4 错误消息包含 "arm4"
- ✅ Arm1 错误消息包含 "arm1"
- ✅ 错误消息格式一致

**测试数据**: 
- Amplifier Member 账号
- 已使用 Arm4 和 Arm1 各 3 次

**截图要求**: 
- Arm4 错误消息截图
- Arm1 错误消息截图
- 两个错误消息对比截图

**API 验证**:
```bash
# Arm4 错误响应
curl -X POST https://control.prismax.ai/queue/join \
  -H "Authorization: Bearer {JWT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{"robot_id": "arm4", "user_id": "{USER_ID}"}'

# 预期响应: 403
# {"error": "Amplifier members can join arm4 queue up to 3 times per day (UTC)"}

# Arm1 错误响应
curl -X POST https://control.prismax.ai/queue/join \
  -H "Authorization: Bearer {JWT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{"robot_id": "arm1", "user_id": "{USER_ID}"}'

# 预期响应: 403
# {"error": "Amplifier members can join arm1 queue up to 3 times per day (UTC)"}
```

---

### ARM4-B-005: Arm4 图像识别使用 PROMPT2

**测试用例 ID**: ARM4-B-005  
**优先级**: P1  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- 用户已激活 Arm4 控制
- 系统配置了图像识别功能

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 激活 Arm4 控制 | 显示 "Session Active" | | ⬜ |
| 2 | 触发图像识别功能 | 执行图像识别操作（如识别物体位置） | | ⬜ |
| 3 | 检查后端日志 | 查看后端日志，确认使用 PROMPT2 | | ⬜ |
| 4 | 检查代码配置 | 确认 image_recognitions.py 中 PROMPT_LIST 包含 'arm4': PROMPT2 | | ⬜ |
| 5 | 对比 Arm1 | 激活 Arm1 控制，触发图像识别，确认使用 PROMPT1 | | ⬜ |
| 6 | 对比 Arm2 | 激活 Arm2 控制，触发图像识别，确认使用 PROMPT2 | | ⬜ |
| 7 | 对比 Arm3 | 激活 Arm3 控制，触发图像识别，确认使用 PROMPT2 | | ⬜ |
| 8 | 验证配置一致性 | Arm4, Arm2, Arm3 都使用 PROMPT2，Arm1 使用 PROMPT1 | | ⬜ |

**验证点**:
- ✅ Arm4 使用 PROMPT2
- ✅ Arm1 使用 PROMPT1（不同）
- ✅ Arm2/Arm3 使用 PROMPT2（相同）
- ✅ 配置正确

**测试数据**: 
- 需要访问后端日志或代码
- 需要触发图像识别功能

**截图要求**: 
- 后端日志截图（显示 PROMPT2）
- 代码配置截图
- 不同机器人的识别结果对比

**代码验证**:
```python
# 检查 image_recognitions.py
PROMPT_LIST = {'arm1': PROMPT1, 'arm2': PROMPT2, 'arm3': PROMPT2, 'arm4': PROMPT2}
```

---

### ARM4-B-006: Arm4 图像识别功能正常

**测试用例 ID**: ARM4-B-006  
**优先级**: P1  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- 用户已激活 Arm4 控制
- 系统配置了图像识别功能

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 激活 Arm4 控制 | 显示 "Session Active" | | ⬜ |
| 2 | 触发图像识别 | 执行图像识别操作 | | ⬜ |
| 3 | 检查识别请求 | 识别请求发送到后端 | | ⬜ |
| 4 | 检查识别响应 | 收到识别结果响应 | | ⬜ |
| 5 | 检查结果格式 | 结果格式为 JSON，包含 "left" 和 "right" 字段 | | ⬜ |
| 6 | 检查结果值 | left 和 right 值为有效整数 | | ⬜ |
| 7 | 检查结果准确性 | 识别结果符合预期（如果可验证） | | ⬜ |
| 8 | 测试多次识别 | 多次触发识别，结果稳定 | | ⬜ |
| 9 | 检查错误处理 | 如果识别失败，显示错误提示 | | ⬜ |

**验证点**:
- ✅ 图像识别功能正常
- ✅ 返回结果格式正确
- ✅ 结果值有效
- ✅ 错误处理正确

**测试数据**: 无特殊要求

**截图要求**: 
- 识别请求和响应的网络截图
- 识别结果截图
- 错误处理截图

**API 验证**:
```bash
# 图像识别 API 调用（如果可访问）
# 检查响应格式
{
  "left": 123,
  "right": 456
}
```

---

### ARM4-B-007: Arm4 队列加入 API 正常

**测试用例 ID**: ARM4-B-007  
**优先级**: P0  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- 用户已登录，获取 JWT token
- 用户未达到 Arm4 使用限制

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 获取用户 JWT token | 成功获取 token | | ⬜ |
| 2 | 调用 API: POST /queue/join | 发送请求，robot_id 为 "arm4" | | ⬜ |
| 3 | 检查请求格式 | 请求体包含 robot_id 和 user_id | | ⬜ |
| 4 | 检查响应状态码 | 返回 200 状态码 | | ⬜ |
| 5 | 检查响应体 | 响应体包含 position 字段 | | ⬜ |
| 6 | 检查 position 值 | position 为有效整数（如 1, 2, 3...） | | ⬜ |
| 7 | 检查响应格式 | 响应格式为 JSON | | ⬜ |
| 8 | 验证数据库记录 | 数据库 robot_queue 表中有新记录，robot_id 为 'arm4' | | ⬜ |
| 9 | 检查记录时间 | 记录 created_at 为当前时间 | | ⬜ |

**验证点**:
- ✅ API 请求成功
- ✅ 响应格式正确
- ✅ 数据库记录正确
- ✅ 状态码正确

**测试数据**: 
- 有效的 JWT token
- 用户 ID

**截图要求**: 
- API 请求和响应截图
- 数据库记录截图

**API 测试**:
```bash
curl -X POST https://control.prismax.ai/queue/join \
  -H "Authorization: Bearer {JWT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "robot_id": "arm4",
    "user_id": "{USER_ID}"
  }'

# 预期响应: 200 OK
# {
#   "success": true,
#   "position": 1,
#   "message": "Joined queue successfully"
# }
```

---

### ARM4-B-008: Arm4 队列限制 API 验证

**测试用例 ID**: ARM4-B-008  
**优先级**: P0  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- Amplifier Member 账号
- 已使用 Arm4 3 次（当前 UTC 日期）
- 获取 JWT token

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 获取用户 JWT token | 成功获取 token | | ⬜ |
| 2 | 确认已使用 3 次 | 验证数据库记录，确认已使用 3 次 | | ⬜ |
| 3 | 调用 API: POST /queue/join | 发送请求，robot_id 为 "arm4" | | ⬜ |
| 4 | 检查响应状态码 | 返回 403 状态码 | | ⬜ |
| 5 | 检查响应体 | 响应体包含 error 字段 | | ⬜ |
| 6 | 检查错误消息 | 错误消息包含 "Amplifier members can join arm4 queue up to 3 times per day (UTC)" | | ⬜ |
| 7 | 检查错误消息格式 | 错误消息格式正确，包含 robot_id | | ⬜ |
| 8 | 验证数据库 | 数据库中没有新记录（请求被拒绝） | | ⬜ |

**验证点**:
- ✅ API 返回 403 状态码
- ✅ 错误消息正确
- ✅ 错误消息包含 robot_id
- ✅ 数据库无新记录

**测试数据**: 
- Amplifier Member 账号
- 已使用 Arm4 3 次
- 有效的 JWT token

**截图要求**: 
- API 请求和响应截图（403）
- 数据库查询结果截图

**API 测试**:
```bash
curl -X POST https://control.prismax.ai/queue/join \
  -H "Authorization: Bearer {JWT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "robot_id": "arm4",
    "user_id": "{USER_ID}"
  }'

# 预期响应: 403 Forbidden
# {
#   "error": "Amplifier members can join arm4 queue up to 3 times per day (UTC)"
# }
```

---

### ARM4-B-009: Arm4 队列查询 API

**测试用例 ID**: ARM4-B-009  
**优先级**: P1  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- 用户在 Arm4 队列中
- 获取 JWT token

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 加入 Arm4 队列 | 成功加入队列 | | ⬜ |
| 2 | 获取用户 JWT token | 成功获取 token | | ⬜ |
| 3 | 调用 API: GET /queue/status?robot_id=arm4 | 发送请求 | | ⬜ |
| 4 | 检查响应状态码 | 返回 200 状态码 | | ⬜ |
| 5 | 检查响应体 | 响应体包含队列信息 | | ⬜ |
| 6 | 检查用户位置 | 响应中包含用户当前队列位置 | | ⬜ |
| 7 | 检查队列列表 | 响应中包含队列中所有用户列表 | | ⬜ |
| 8 | 验证位置准确性 | 用户位置与前端显示一致 | | ⬜ |
| 9 | 检查响应格式 | 响应格式为 JSON | | ⬜ |

**验证点**:
- ✅ API 请求成功
- ✅ 响应包含队列信息
- ✅ 用户位置准确
- ✅ 响应格式正确

**测试数据**: 
- 用户在 Arm4 队列中
- 有效的 JWT token

**截图要求**: 
- API 请求和响应截图
- 前端队列位置与 API 响应对比截图

**API 测试**:
```bash
curl -X GET "https://control.prismax.ai/queue/status?robot_id=arm4" \
  -H "Authorization: Bearer {JWT_TOKEN}"

# 预期响应: 200 OK
# {
#   "success": true,
#   "robot_id": "arm4",
#   "queue": [
#     {"user_id": "123", "position": 1},
#     {"user_id": "456", "position": 2}
#   ],
#   "your_position": 2
# }
```

---

### ARM4-B-010: Arm4 不同会员等级限制

**测试用例 ID**: ARM4-B-010  
**优先级**: P1  
**测试类型**: 后端逻辑测试  
**前置条件**: 
- 准备不同会员等级的账号
- Explorer Member 账号
- Amplifier Member 账号
- Innovator Member 账号（如果适用）

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 登录 Explorer Member 账号 | 登录成功 | | ⬜ |
| 2 | 尝试加入 Arm4 队列 | 失败，显示升级提示或限制错误 | | ⬜ |
| 3 | 检查错误消息 | 错误消息提示需要升级会员等级 | | ⬜ |
| 4 | 登录 Amplifier Member 账号 | 登录成功 | | ⬜ |
| 5 | 尝试加入 Arm4 队列 | 成功加入（如果未达到 3 次限制） | | ⬜ |
| 6 | 验证限制 | 每天最多 3 次限制生效 | | ⬜ |
| 7 | 登录 Innovator Member 账号（如果适用） | 登录成功 | | ⬜ |
| 8 | 尝试加入 Arm4 队列 | 成功加入（无限制或不同限制） | | ⬜ |
| 9 | 验证限制规则 | 不同会员等级限制规则正确 | | ⬜ |

**验证点**:
- ✅ Explorer Member 无法使用（或需要升级）
- ✅ Amplifier Member 有 3 次限制
- ✅ Innovator Member 限制正确（根据业务规则）
- ✅ 不同会员等级限制规则正确

**测试数据**: 
- Explorer Member 账号
- Amplifier Member 账号
- Innovator Member 账号（如果适用）

**截图要求**: 
- 不同会员等级的尝试结果截图
- 错误消息截图

**会员等级限制规则**:
- **Explorer Member**: 无法使用机器人（显示升级提示）
- **Amplifier Member**: Arm4 每天最多 3 次（UTC）
- **Innovator Member**: 无限制或根据业务规则

---

### ARM4-I-001: Arm4 完整流程测试

**测试用例 ID**: ARM4-I-001  
**优先级**: P0  
**测试类型**: 集成测试  
**前置条件**: 用户已登录

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 导航到 Tele-Op 页面 | 显示机器人选择界面 | | ⬜ |
| 2 | 点击 Arm4 卡片 | 进入 Arm4 控制页面 | | ⬜ |
| 3 | 检查导航栏 | 显示 "Training Arm" | | ⬜ |
| 4 | 点击 "Enter Live Control" | 按钮文本变为 "Starting..." | | ⬜ |
| 5 | 等待加入队列 | 成功加入队列，显示队列位置 | | ⬜ |
| 6 | 检查按钮文本 | 按钮变为 "Leave Queue" | | ⬜ |
| 7 | 等待队列位置更新 | 队列位置自动更新（如从 #5 变为 #4） | | ⬜ |
| 8 | 等待队列位置到达 #1 | 显示 "Session Active" | | ⬜ |
| 9 | 检查视频流 | 显示机器人视频流（stream1 和 stream2） | | ⬜ |
| 10 | 检查控制面板 | 显示控制按钮和滑块 | | ⬜ |
| 11 | 检查会话倒计时 | 显示 5 分钟倒计时 | | ⬜ |
| 12 | 测试控制功能 | 可以正常控制机器人移动 | | ⬜ |
| 13 | 等待会话结束 | 5 分钟后会话自动结束 | | ⬜ |
| 14 | 检查模态框 | 不显示 session complete modal | | ⬜ |
| 15 | 检查积分奖励 | 获得 Prisma Points（如果适用） | | ⬜ |
| 16 | 检查浏览器控制台 | 无 JavaScript 错误 | | ⬜ |

**验证点**:
- ✅ 完整流程无错误
- ✅ 所有功能正常
- ✅ UI 状态正确更新
- ✅ 控制功能正常
- ✅ 会话结束流程正确

**测试数据**: 无特殊要求

**截图要求**: 
- 每个关键步骤的截图
- 浏览器控制台截图（无错误）

---

### ARM4-R-001: Arm1 功能不受影响

**测试用例 ID**: ARM4-R-001  
**优先级**: P0  
**测试类型**: 回归测试  
**前置条件**: 用户已登录

**测试步骤**:

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 导航到 Tele-Op 页面 | 显示机器人选择界面 | | ⬜ |
| 2 | 点击 Arm1 卡片 | 进入 Arm1 控制页面 | | ⬜ |
| 3 | 检查 Arm1 导航栏 | 显示 "Training Arm" | | ⬜ |
| 4 | 加入 Arm1 队列 | 成功加入队列 | | ⬜ |
| 5 | 等待激活控制 | 成功激活控制 | | ⬜ |
| 6 | 测试 Arm1 控制功能 | 控制功能正常 | | ⬜ |
| 7 | 完成 Arm1 会话 | 会话结束 | | ⬜ |
| 8 | 检查 Arm1 模态框 | 不显示 session complete modal（与之前一致） | | ⬜ |
| 9 | 检查 Arm1 限制 | Amplifier Member 每天最多 3 次（与之前一致） | | ⬜ |
| 10 | 检查 Arm1 图像识别 | 使用 PROMPT1（与之前一致） | | ⬜ |

**验证点**:
- ✅ Arm1 所有功能正常
- ✅ Arm1 行为与之前一致
- ✅ Arm1 不受 Arm4 影响

**测试数据**: 无特殊要求

**截图要求**: 
- Arm1 关键功能截图

---

## 📊 测试执行记录表

### 前端功能测试 (ARM4-F-001 ~ ARM4-F-015)

| 测试用例 ID | 测试用例名称 | 执行日期 | 测试人员 | 执行结果 | 缺陷 ID | 备注 |
|-------------|-------------|----------|----------|----------|---------|------|
| ARM4-F-001 | Arm4 在机器人选择界面显示 | | | ⬜ | | |
| ARM4-F-002 | Arm4 显示为 "Training Arm" | | | ⬜ | | |
| ARM4-F-003 | Arm4 可以启动操作流程 | | | ⬜ | | |
| ARM4-F-004 | Arm4 导航栏显示为 "Training Arm" | | | ⬜ | | |
| ARM4-F-005 | Arm4 不显示 session complete modal | | | ⬜ | | |
| ARM4-F-006 | Arm4 首次使用显示首次使用模态框 | | | ⬜ | | |
| ARM4-F-007 | Arm4 队列加入按钮功能 | | | ⬜ | | |
| ARM4-F-008 | Arm4 队列离开功能 | | | ⬜ | | |
| ARM4-F-009 | Arm4 队列位置更新 | | | ⬜ | | |
| ARM4-F-010 | Arm4 控制界面功能 | | | ⬜ | | |
| ARM4-F-011 | Arm4 响应式设计测试 | | | ⬜ | | |
| ARM4-F-012 | Arm4 错误处理测试 | | | ⬜ | | |
| ARM4-F-013 | Arm4 与 Arm1 卡片对比 | | | ⬜ | | |
| ARM4-F-014 | Arm4 会话结束流程 | | | ⬜ | | |
| ARM4-F-015 | Arm4 积分奖励验证 | | | ⬜ | | |

### 后端逻辑测试 (ARM4-B-001 ~ ARM4-B-010)

| 测试用例 ID | 测试用例名称 | 执行日期 | 测试人员 | 执行结果 | 缺陷 ID | 备注 |
|-------------|-------------|----------|----------|----------|---------|------|
| ARM4-B-001 | Arm4 Amplifier Member 每天最多 3 次限制 | | | ⬜ | | |
| ARM4-B-002 | Arm1 和 Arm4 限制独立计算 | | | ⬜ | | |
| ARM4-B-003 | UTC 时区限制正确 | | | ⬜ | | |
| ARM4-B-004 | 错误消息包含 robot_id | | | ⬜ | | |
| ARM4-B-005 | Arm4 图像识别使用 PROMPT2 | | | ⬜ | | |
| ARM4-B-006 | Arm4 图像识别功能正常 | | | ⬜ | | |
| ARM4-B-007 | Arm4 队列加入 API 正常 | | | ⬜ | | |
| ARM4-B-008 | Arm4 队列限制 API 验证 | | | ⬜ | | |
| ARM4-B-009 | Arm4 队列查询 API | | | ⬜ | | |
| ARM4-B-010 | Arm4 不同会员等级限制 | | | ⬜ | | |

### 集成测试 (ARM4-I-001 ~ ARM4-I-005)

| 测试用例 ID | 测试用例名称 | 执行日期 | 测试人员 | 执行结果 | 缺陷 ID | 备注 |
|-------------|-------------|----------|----------|----------|---------|------|
| ARM4-I-001 | Arm4 完整流程测试 | | | ⬜ | | |
| ARM4-I-002 | Arm4 与 Arm1 行为一致性 | | | ⬜ | | |
| ARM4-I-003 | Arm4 队列并发测试 | | | ⬜ | | |
| ARM4-I-004 | Arm4 数据一致性测试 | | | ⬜ | | |
| ARM4-I-005 | Arm4 跨页面导航测试 | | | ⬜ | | |

### 回归测试 (ARM4-R-001 ~ ARM4-R-005)

| 测试用例 ID | 测试用例名称 | 执行日期 | 测试人员 | 执行结果 | 缺陷 ID | 备注 |
|-------------|-------------|----------|----------|----------|---------|------|
| ARM4-R-001 | Arm1 功能不受影响 | | | ⬜ | | |
| ARM4-R-002 | Arm2 功能不受影响 | | | ⬜ | | |
| ARM4-R-003 | Arm3 功能不受影响 | | | ⬜ | | |
| ARM4-R-004 | 机器人选择界面显示正确 | | | ⬜ | | |
| ARM4-R-005 | 队列系统整体功能 | | | ⬜ | | |

**图例**:
- ⬜ 未执行
- ✅ 通过
- ❌ 失败
- ⚠️ 阻塞
- 🔄 重测

---

## 🐛 缺陷报告模板

**缺陷 ID**: BUG-ARM4-001  
**标题**: [简要描述问题]  
**严重程度**: Critical / High / Medium / Low  
**优先级**: P0 / P1 / P2  
**发现于**: ARM4-F-XXX  
**发现日期**: YYYY-MM-DD  
**测试环境**: [浏览器版本, 操作系统]  

**描述**: 
[详细描述问题，包括现象和影响]

**复现步骤**:
1. [步骤 1]
2. [步骤 2]
3. [步骤 3]
...

**预期结果**: 
[应该发生什么]

**实际结果**: 
[实际发生了什么]

**附件**: 
- 截图: [文件名]
- 日志: [文件名]
- 视频: [文件名]

**相关测试用例**: ARM4-F-XXX

---

**文档版本**: v1.0  
**创建日期**: 2026-01-22  
**作者**: QA Team  
**最后更新**: 2026-01-22
